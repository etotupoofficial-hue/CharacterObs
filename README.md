# OBS Виртуальный персонаж, следящий за курсором

Минимальный пример Python-программы, которая подключается к OBS через WebSocket и
поворачивает источник (персонажа) в сторону курсора.

## Возможности

- Читает позицию курсора.
- Преобразует координаты в координаты canvas OBS.
- Поворачивает источник персонажа так, чтобы голова «смотрела» в сторону курсора.

## Требования

- OBS Studio 28+.
- Плагин obs-websocket (в OBS 28+ встроен).
- Python 3.10+.

## Установка

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

## Настройка OBS

1. Включите WebSocket в OBS: `Инструменты → WebSocket Server Settings`.
2. Укажите пароль (или оставьте пустым).
3. Создайте источник персонажа (например, PNG или медиа).
4. Узнайте имя сцены и источника (нужно для `CONFIG`).
5. В настройках трансформации источника определите позицию головы и внесите
   координаты в `head_anchor_x`/`head_anchor_y`.

## Запуск

```bash
python src/character_follow_cursor.py
```

## Настройка поведения

Все параметры находятся в `CONFIG` внутри `src/character_follow_cursor.py`:

- `scene_name` и `source_name` — сцена и источник персонажа.
- `canvas_width`/`canvas_height` — размер canvas OBS.
- `head_anchor_x`/`head_anchor_y` — точка головы в координатах canvas.
- `rotation_limit_deg` — ограничение поворота головы.
- `rotation_offset_deg` — калибровка направления, если картинка «смотрит» не вправо.
- `update_fps` — частота обновления.

## Идеи для расширения

- Добавить небольшое смещение позиции головы (эффект параллакса).
- Использовать кости (Live2D, VSeeFace) вместо простого поворота.
- Включить плавное сглаживание (интерполяцию) поворота.
